<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Elevator Control System Optimization - Jorge Ortega</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css">
  <style>
    /* Project-specific styles that extend the main theme */
    header {
      background: linear-gradient(135deg, var(--btn-bg), var(--link));
      color: white;
      padding: 20px 40px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    header h1 {
      margin: 0;
      font-size: 2em;
    }

    nav {
      margin-top: 10px;
    }

    nav a {
      color: white;
      margin: 0 10px;
      text-decoration: none;
      font-weight: 600;
      transition: transform 0.2s ease, opacity 0.2s ease;
      display: inline-block;
    }

    nav a:hover {
      transform: scale(1.1);
      opacity: 0.9;
    }

    .project-hero {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 20px 0;
    }

    .project-hero img {
      width: 100%;
      max-width: 700px;
      border-radius: 12px;
      box-shadow: var(--shadow-1);
      margin: 20px 0;
      display: block;
      border: 2px solid var(--card-border);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .project-hero img:hover {
      transform: scale(1.02);
      box-shadow: 0 8px 24px rgba(37,99,235,0.3);
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .gallery figure {
      margin: 0;
      background-color: var(--card-bg);
      border-radius: 12px;
      padding: 15px;
      box-shadow: var(--shadow-1);
      border: 1px solid var(--card-border);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }

    .gallery figure:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(37,99,235,0.3);
    }

    .gallery img {
      width: 100%;
      height: 200px;
      object-fit: contain;
      border-radius: 8px;
    }

    .gallery figcaption {
      text-align: center;
      margin-top: 10px;
      font-size: 0.9em;
      color: var(--muted);
    }

    ul {
      list-style-type: disc;
      margin-left: 20px;
      line-height: 1.8;
    }

    .container p {
      text-align: justify;
    }

    .container h3 {
      text-align: left;
      text-align: justify;
    }

    .container ul {
      text-align: left;
      text-align: justify;
    }

    footer {
      text-align: center;
      padding: 20px;
      margin-top: 40px;
      font-size: 0.9em;
      background-color: var(--card-bg);
      color: var(--muted);
      border-top: 1px solid var(--card-border);
    }

    /* Lightbox styles */
    #lightbox {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      backdrop-filter: blur(8px);
    }

    #lightbox img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.5);
    }

    @media (prefers-reduced-motion: reduce) {
      nav a,
      .project-hero img,
      .gallery figure {
        transition: none !important;
        transform: none !important;
      }
    }
  </style>
</head>
<body>
  <div class="scroll-progress" id="scrollProgress"></div>
  <header>
    <h1>Elevator Control System Optimization</h1>
    <nav>
      <a href="../index.html">üè† Home</a>
    </nav>
  </header>

  <div class="container">
    <!-- Hero Image -->
    <!-- <div class="project-hero">
      <img src="../assets/images/elevator-system.png" alt="Elevator Control System">
    </div> -->

    <!-- Project Overview -->
    <h2>Project Overview</h2>
    <p>
      The main objective of this project is to design, implement, and compare multiple control strategies for the
      operation and coordination of two elevators in a multi-floor building.
      The elevator control algorithms aim to reduce total service time, minimize energy use, and ensure balanced 
      request handling between elevators. The complete scope of the project was carried out using MATLAB.
    </p>

    <!-- Controllers Implemented -->
    <h2>Controllers Implemented</h2>
    <h3>üîπ First Call Controller (FCC)</h3>
    <ul>
      <li><strong>Implementation details:</strong> Uses MATLAB's Parallel Computing Toolbox with <code>parfeval</code> for asynchronous task execution</li>
      <li><strong>Queue Management:</strong> Maintains a FIFO (First-In-First-Out) queue structure for incoming requests</li>
      <li><strong>Conflict resolution:</strong> Implements mutex locking and configurable parallel pools to prevent both elevators ro fulfull the same request</li>
    </ul>

    <h3>üîπ Closest Call Controller (CCC)</h3>
    <ul>
      <li><strong>Distance calculation:</strong> Calculates Euclidean distance between elevator position and request floor in real time</li>
      <li><strong>Decision algorithm:</strong> Uses greedy approach to minimize immediate travel distance for each request</li>
      <li><strong>Sequential operation:</strong> Processes one request at a time to avoid complex coordination logic</li>
    </ul>

    <h3>üîπ Optimized Multi-Elevator Controller (OMEC)</h3>
    <ul>
      <li><strong>Advanced grouping:</strong> Analyzes request patterns and clusters requests by floor proximity and direction</li>
      <li><strong>Parallel operation:</strong> Maintains simultaneous multi-elevator coordination with worker pools and dynamic request filtering</li>
      <li><strong>Performance:</strong> Achieved a 250% improvement in time efficiency and optimal wokload balance</li>
    </ul>

    <!-- Simulation Results -->
    <h2>Simulation Results</h2>
    <p>
      The analysis in performance of the different elevator control strategies implemented was carried out in 
      a 12-request simulation that was given at the same time to all the controllers. At the beginning of the simulation,
      the elevator 1 is idle on the first floor and the elevator 2 is also idle on the top floor. The elevator speed is set 
      to 2 seconds between floors and and the pause to pick up or drop off a client is 3 seconds long.
    </p>

    <!-- Results Table -->
    <div class="gallery">
      <figure>
        <img src="../assets/images/Table_elevator.png" alt="Performance Comparison Table">
        <figcaption>Performance Comparison Table</figcaption>
      </figure>
    </div>

    <!-- Gallery -->
    <div class="gallery">
      <figure>
        <img src="../assets/images/CCC_Elevator.png" alt="CCC Elevator Control">
        <figcaption>CCC Elevator Control</figcaption>
      </figure>
      <figure>
        <img src="../assets/images/FCC_Elevator.png" alt="FCC Elevator Control">
        <figcaption>FCC Elevator Control</figcaption>
      </figure>
      <figure>
        <img src="../assets/images/Optimized_Elevator.png" alt="Optimized Elevator Control">
        <figcaption>Optimized Elevator Control</figcaption>
      </figure>
    </div>

    <p>
      The results indicate that the Optimized Multi-Elevator Controller (OMEC) outperforms both the First Call Controller (FCC)
      and the Closest Call Controller (CCC) in terms of average wait time and overall efficiency. The intelligent grouping 
      and parallel operation strategies employed by OMEC significantly reduce service times and balance workloads between elevators.
    </p>

    <!-- Code Button -->
    <a href="https://github.com/ortega-jor/Elevator_Control_System_Opitimization.git" target="_blank" class="btn">üîó View Code on GitHub</a>
  </div>

  <!-- Lightbox -->
  <div id="lightbox">
    <img src="" alt="">
  </div>

  <button class="theme-toggle" id="themeToggle" aria-label="Toggle light and dark theme">üåó</button>

  <footer>
    <p>¬© 2025 Jorge Ortega ‚Äî Robotics Portfolio</p>
  </footer>

  <!-- Script should be at the end of body -->
  <script>
    // Theme toggle: respects stored preference, otherwise system preference
    (function() {
      const root = document.documentElement;
      const toggle = document.getElementById('themeToggle');
      const storageKey = 'jorge_theme_pref';

      function applyTheme(theme) {
        if (theme === 'light') {
          root.classList.add('light-theme');
          toggle.textContent = 'üåû';
        } else {
          root.classList.remove('light-theme');
          toggle.textContent = 'üåô';
        }
      }

      function getPreferredTheme() {
        const stored = localStorage.getItem(storageKey);
        if (stored === 'light' || stored === 'dark') return stored;
        const mq = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
        return mq ? 'light' : 'dark';
      }

      // Initialize
      applyTheme(getPreferredTheme());

      // Toggle handler
      toggle.addEventListener('click', function() {
        const isLight = root.classList.contains('light-theme');
        const newTheme = isLight ? 'dark' : 'light';
        applyTheme(newTheme);
        try { localStorage.setItem(storageKey, newTheme); } catch (e) { /* ignore */ }
      });
    })();

    // Scroll progress bar
    (function() {
      const progressBar = document.getElementById('scrollProgress');
      
      function updateScrollProgress() {
        const scrollTop = window.scrollY || document.documentElement.scrollTop;
        const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrollPercentage = (scrollTop / scrollHeight) * 100;
        progressBar.style.width = scrollPercentage + '%';
      }
      
      window.addEventListener('scroll', updateScrollProgress);
      window.addEventListener('resize', updateScrollProgress);
      updateScrollProgress(); // Initialize on load
    })();

    // Lightbox
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = lightbox.querySelector("img");

    document.querySelectorAll(".gallery img").forEach(img => {
      img.addEventListener("click", () => {
        lightbox.style.display = "flex";
        lightboxImg.src = img.src;
      });
    });

    lightbox.addEventListener("click", () => {
      lightbox.style.display = "none";
    });
  </script>
</body>
</html>
